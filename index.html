<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" href="Image/logo01.png">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Profit Per Days</title>
<style>
    body {
        font-family: 'Segoe UI', sans-serif;
        background: linear-gradient(135deg, #eef2ff, #f3f4f6);
        padding: 20px;
        min-height: 100vh;
    }
    h2 {
        text-align:center;
        color:#333;
        margin-bottom:20px;
        animation: fadeIn 1s ease-in-out;
    }
    .tab-menu {
        display: flex;
        margin-bottom: 10px;
        border-bottom: 2px solid #ddd;
    }
    .tab-menu button {
        flex: 1;
        padding: 12px;
        background: #e5e7eb;
        border: none;
        cursor: pointer;
        font-size: 16px;
        transition: all 0.3s ease;
    }
    .tab-menu button.active {
        background: #4f46e5;
        color: white;
        font-weight: bold;
        transform: scale(1.05);
    }
    .tab-menu button:hover:not(.active) {
        background: #d1d5db;
        transform: scale(1.02);
    }
    .tab-content {
        display: none;
        background: white;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        margin-top: 10px;
        animation: fadeSlide 0.5s ease;
    }
    .tab-content.active {
        display: block;
    }
    label {
        display: block;
        margin-top: 10px;
        font-weight: bold;
    }
    input {
        width: 100%;
        padding: 10px;
        margin-top: 4px;
        border: 1px solid #ccc;
        border-radius: 8px;
        transition: border 0.3s, box-shadow 0.3s;
    }
    input:focus {
        border-color: #4f46e5;
        box-shadow: 0 0 8px rgba(79,70,229,0.3);
        outline:none;
    }
    .result {
        margin-top: 15px;
        padding: 15px;
        border-radius: 8px;
        text-align: center;
        font-weight: bold;
        font-size: 18px;
        opacity: 0;
        transform: translateY(10px);
        transition: all 0.5s ease;
    }
    .result.show {
        opacity: 1;
        transform: translateY(0);
    }
    .positive {
        color: green;
        animation: pulse 1s infinite alternate;
    }
    .negative {
        color: red;
        animation: shake 0.3s;
    }
    .reset-btn {
        margin-top: 15px;
        width: 100%;
        padding: 10px;
        background: #ef4444;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size:16px;
        transition: all 0.3s ease;
    }
    .reset-btn:hover {
        background: #dc2626;
        transform: scale(1.05);
    }

    /* Animations */
    @keyframes fadeIn {
        from {opacity:0; transform: translateY(-10px);}
        to {opacity:1; transform: translateY(0);}
    }
    @keyframes fadeSlide {
        from {opacity:0; transform: translateY(20px);}
        to {opacity:1; transform: translateY(0);}
    }
    @keyframes pulse {
        from {transform: scale(1);}
        to {transform: scale(1.05);}
    }
    @keyframes shake {
        0% {transform: translateX(0);}
        25% {transform: translateX(-4px);}
        50% {transform: translateX(4px);}
        75% {transform: translateX(-4px);}
        100% {transform: translateX(0);}
    }
</style>
</head>
<body>

<h2>Kalkulator Profit Per Hari</h2>

<div class="tab-menu">
    <button class="active" onclick="showTab('once')">Sekali Panen</button>
    <button onclick="showTab('regrow')">Regrow</button>
</div>

<!-- Sekali Panen -->
<div id="once" class="tab-content active">
    <label>Harga Bibit (g)</label>
    <input type="number" id="seedPriceOnce" placeholder="Masukkan harga bibit" oninput="calculateOnce()">

    <label>Harga Jual (g)</label>
    <input type="number" id="sellPriceOnce" placeholder="Masukkan harga jual" oninput="calculateOnce()">

    <label>Masa Tumbuh (hari)</label>
    <input type="number" id="growDaysOnce" placeholder="Masukkan masa tumbuh" oninput="calculateOnce()">

    <div id="resultOnce" class="result"></div>

    <button class="reset-btn" onclick="resetOnce()">Reset</button>
</div>

<!-- Regrow -->
<div id="regrow" class="tab-content">
    <label>Harga Bibit (g)</label>
    <input type="number" id="seedPriceRegrow" placeholder="Masukkan harga bibit" oninput="calculateRegrow()">

    <label>Harga Jual per Buah (g)</label>
    <input type="number" id="sellPriceRegrow" placeholder="Masukkan harga jual per buah" oninput="calculateRegrow()">

    <label>Jumlah Output per Panen (buah)</label>
    <input type="number" id="outputPerHarvest" min="1" step="1" placeholder="Misal: 2 atau 3" oninput="calculateRegrow()">

    <label>Masa Tumbuh Awal (hari)</label>
    <input type="number" id="growDaysRegrow" placeholder="Masukkan masa tumbuh awal" oninput="calculateRegrow()">

    <label>Waktu Regrow (hari)</label>
    <input type="number" id="regrowDays" placeholder="Masukkan waktu regrow" oninput="calculateRegrow()">

    <label>Total Hari Tanam</label>
    <input type="number" id="totalDaysRegrow" placeholder="Masukkan total hari tanam" oninput="calculateRegrow()">

    <div id="resultRegrow" class="result"></div>

    <button class="reset-btn" onclick="resetRegrow()">Reset</button>
</div>

<script>
    function showTab(tabId) {
        document.querySelectorAll('.tab-menu button').forEach(btn => btn.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));

        document.querySelector(`.tab-menu button[onclick="showTab('${tabId}')"]`).classList.add('active');
        document.getElementById(tabId).classList.add('active');
    }

    function calculateOnce() {
        const seed = parseFloat(document.getElementById("seedPriceOnce").value) || 0;
        const sell = parseFloat(document.getElementById("sellPriceOnce").value) || 0;
        const days = parseFloat(document.getElementById("growDaysOnce").value) || 0;

        const resultEl = document.getElementById("resultOnce");

        if (days <= 0) {
            resultEl.innerHTML = "";
            resultEl.classList.remove("show");
            return;
        }

        const totalProfit = sell - seed;
        const profitPerDay = totalProfit / days;

        resultEl.innerHTML = `
            üí∞ Profit per Hari: <span class="${profitPerDay >= 0 ? 'positive' : 'negative'}">${profitPerDay.toFixed(2)}g</span><br>
            üì¶ Total Profit: <span class="${totalProfit >= 0 ? 'positive' : 'negative'}">${totalProfit.toFixed(2)}g</span>
        `;
        resultEl.classList.add("show");
    }

    function calculateRegrow() {
        const seed = parseFloat(document.getElementById("seedPriceRegrow").value) || 0;
        const sellPerFruit = parseFloat(document.getElementById("sellPriceRegrow").value) || 0;
        const outputPerHarvest = Math.max(1, parseInt(document.getElementById("outputPerHarvest").value) || 1);
        const growInitial = parseFloat(document.getElementById("growDaysRegrow").value) || 0;
        const regrowDays = parseFloat(document.getElementById("regrowDays").value) || 0;
        const totalDays = parseFloat(document.getElementById("totalDaysRegrow").value) || 0;

        const resultEl = document.getElementById("resultRegrow");

        if (totalDays <= 0 || growInitial <= 0 || regrowDays <= 0) {
            resultEl.innerHTML = "";
            resultEl.classList.remove("show");
            return;
        }

        // Hitung jumlah panen
        const totalHarvests = 1 + Math.floor((totalDays - growInitial) / regrowDays);
        // Revenue per panen = harga per buah * jumlah buah per panen
        const revenuePerHarvest = sellPerFruit * outputPerHarvest;
        // Total revenue = revenue per panen * jumlah panen
        const totalRevenue = revenuePerHarvest * totalHarvests;

        const totalProfit = totalRevenue - seed;
        const profitPerDay = totalProfit / totalDays;
        const totalOutputFruits = outputPerHarvest * totalHarvests;

        resultEl.innerHTML = `
            üí∞ Profit per Hari: <span class="${profitPerDay >= 0 ? 'positive' : 'negative'}">${profitPerDay.toFixed(2)}g</span><br>
            üì¶ Total Profit: <span class="${totalProfit >= 0 ? 'positive' : 'negative'}">${totalProfit.toFixed(2)}g</span><br>
            üå± Total Panen: ${totalHarvests} kali<br>
            üçá Output per Panen: ${outputPerHarvest} buah<br>
            üß∫ Total Output: ${totalOutputFruits} buah
        `;
        resultEl.classList.add("show");
    }

    function resetOnce() {
        document.getElementById("seedPriceOnce").value = "";
        document.getElementById("sellPriceOnce").value = "";
        document.getElementById("growDaysOnce").value = "";
        document.getElementById("resultOnce").innerHTML = "";
        document.getElementById("resultOnce").classList.remove("show");
    }

    function resetRegrow() {
        document.getElementById("seedPriceRegrow").value = "";
        document.getElementById("sellPriceRegrow").value = "";
        document.getElementById("outputPerHarvest").value = "";
        document.getElementById("growDaysRegrow").value = "";
        document.getElementById("regrowDays").value = "";
        document.getElementById("totalDaysRegrow").value = "";
        document.getElementById("resultRegrow").innerHTML = "";
        document.getElementById("resultRegrow").classList.remove("show");
    }
</script>

</body>
</html>
